import{u as y,j as e,a as c,b as D,H as v}from"./app-CdEIO0Ah.js";import{q as h,t as C,v as A,w as k,C as T,M as S}from"./card-FU8-4o67.js";import{d as P}from"./dates-CftLANug.js";import{f as F,t as o}from"./strings-D2JxcwHs.js";import{E as M,A as I}from"./app-pagination-C_MfKxs5.js";import{B as n}from"./app-notification-BRB7f6po.js";import{I as H}from"./input-EjqLoIYw.js";import{S as L,R}from"./search-AhLCcK10.js";import{D as _,a as B,b as z,c as x,d as E}from"./mode-ktWbe1Je.js";import{A as m,a as u,b as j,c as p,d as b,e as f,f as g,g as w,h as N}from"./alert-dialog-CnwLHfHA.js";import{T as O,a as Y,b as d,c as i,d as q,e as t}from"./table-DfbPI-wj.js";import{S as U}from"./separator-CD6nILX_.js";import{P as G}from"./plus-CVwer0BE.js";/* empty css            */function J(){const s=y({keyword:""}),r=l=>{l.preventDefault(),s.transform(a=>({...a,keyword:a.keyword?a.keyword.toLowerCase():""})),s.get(h.url())};return e.jsx("form",{onSubmit:r,className:"mb-6 lg:mb-0",children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("div",{className:"w-full lg:w-[250px]",children:e.jsx(H,{name:"keyword",placeholder:"Search",value:s.data.keyword,onChange:l=>s.setData("keyword",l.target.value)})}),e.jsx(n,{type:"submit",variant:"secondary",className:"cursor-pointer",children:e.jsx(L,{className:"size-4"})}),e.jsx(n,{variant:"secondary",asChild:!0,children:e.jsx("a",{href:h.url(),children:e.jsx(R,{className:"size-4"})})})]})})}function K(s){const r=a=>{c.get(C.url(a))},l=a=>{c.get(A.url(a))};return e.jsxs(_,{children:[e.jsx(B,{className:"cursor-pointer",asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"h-8 w-8 p-0 bg-[#f5f5fc] text-[#5955D1] dark:bg-[#02011F]",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(M,{})]})}),e.jsxs(z,{align:"end",children:[e.jsx(x,{asChild:!0,children:e.jsxs(m,{children:[e.jsx(u,{asChild:!0,children:e.jsx(n,{variant:"ghost",className:"w-full justify-start px-2",children:s.status=="published"?"Draft":"Publish"})}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsxs(b,{children:["Do you want to ",s.status==="published"?"move this blog to Draft":"publish this blog","?"]}),e.jsx(f,{children:s.status==="published"?"This blog post will no longer be visible to the public and will be saved as a draft. You can publish it again at any time.":"Once published, this blog post will be visible to the public immediately. You can move it back to draft later if needed."})]}),e.jsxs(g,{children:[e.jsx(w,{children:"Cancel"}),e.jsx(N,{onClick:()=>r(s.id),children:"Continue"})]})]})]})}),e.jsx(E,{}),e.jsx(x,{asChild:!0,children:e.jsxs(m,{children:[e.jsx(u,{asChild:!0,children:e.jsx(n,{variant:"ghost",className:"w-full justify-start px-2 text-red-500",children:"Delete"})}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(b,{children:"Do you want to delete this blog?"}),e.jsx(f,{children:"This action cannot be undone. The blog post will be permanently removed and will no longer be accessible to public."})]}),e.jsxs(g,{children:[e.jsx(w,{children:"Cancel"}),e.jsx(N,{onClick:()=>l(s.id),children:"Continue"})]})]})]})})]})]})}function Q({record:s}){const{auth:r}=D().props,l=Array.isArray(s?.data)?s.data:s?.data?[s.data]:[];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-3 lg:mb-6",children:e.jsxs(e.Fragment,{children:[r.user?.role==="author"?e.jsx(n,{className:"text-white cursor-pointer",asChild:!0,children:e.jsxs("a",{href:k.url(),children:[e.jsx(G,{className:"size-4"})," Add Blog"]})}):e.jsx("div",{}),e.jsx(J,{})]})}),e.jsxs(T,{className:"p-0 gap-0 shadow-none",children:[e.jsx("div",{className:"px-[20px] py-[16px]",children:e.jsx("h6",{className:"font-semibold",children:"Post List"})}),e.jsxs("div",{className:"px-4 overflow-x-auto",children:[e.jsxs(O,{children:[e.jsx(Y,{children:e.jsxs(d,{className:"!border-b-0 bg-[#f2f2f699] dark:bg-[#4b5563] hover:bg-[#f2f2f699] dark:bg-[#4b5563]",children:[e.jsx(i,{className:"min-w-[100px] rounded-l-lg",children:e.jsx("b",{children:"ID"})}),e.jsx(i,{className:"min-w-[200px]",children:e.jsx("b",{children:"Title"})}),r.user?.role==="super_admin"&&e.jsx(i,{className:"min-w-[150px]",children:e.jsx("b",{children:"Author"})}),e.jsx(i,{className:"min-w-[150px]",children:e.jsx("b",{children:"Category"})}),e.jsx(i,{className:"min-w-[100px]",children:e.jsx("b",{children:"Status"})}),e.jsx(i,{className:"min-w-[130px]",children:e.jsx("b",{children:"Date"})}),e.jsx(i,{className:"min-w-[80px] text-center rounded-r-lg",children:e.jsx("b",{children:"Action"})})]})}),e.jsx(q,{children:l.length===0?e.jsx(d,{className:"hover:bg-transparent",children:e.jsx(t,{colSpan:7,className:"text-center",children:"No Record Found."})}):l.map(a=>e.jsxs(d,{className:"hover:bg-transparent",children:[e.jsx(t,{className:"text-primary py-4",children:F(a.id)}),e.jsx(t,{children:o(a.title)}),r.user?.role==="super_admin"&&e.jsx(t,{children:o(a.user.name)}),e.jsx(t,{children:o(a.category.name)}),e.jsx(t,{className:a.status==="published"?"text-green-500":"text-slate-500",children:o(a.status)}),e.jsx(t,{children:P(a.created_at)}),e.jsx(t,{className:"text-center",children:e.jsx(K,{...a})})]},a.id))})]}),e.jsx(U,{}),e.jsx(I,{links:s?.links??[]})]})]})]})}function de({page_title:s,record:r}){return e.jsxs(S,{children:[e.jsx(v,{title:s,children:e.jsx("meta",{name:"description",content:"List of posts for Contentia app."})}),e.jsx(Q,{record:r})]})}export{de as default};
